@page "/dispatch"
@inherits StatusModel
@using MissionCriticalDemo.Shared
@using MissionCriticalDemo.Shared.Enums
@using MissionCriticalDemo.FrontEnd.Shared

<PageTitle>Requests</PageTitle>

<MudTextField @bind-Value="CustomerGasInStore" Label="Current Gas in Store (GWh) (for customer)" ReadOnly="true"></MudTextField>
<MudTextField @bind-Value="OverallGasInStore" Label="Current Gas in Store (GWh) (total)" ReadOnly="true"></MudTextField>

<MudCard>
    <MudCardContent>
        <MudText>Submit a request</MudText>
        <MudText Typo="Typo.body2">Request injection or withdrawal.</MudText>

        <MudRadioGroup @bind-SelectedOption="Direction">
            <MudRadio Option="FlowDirection.Inject" Color="Color.Primary" Size="Size.Small">Inject</MudRadio>
            <MudRadio Option="FlowDirection.Withdraw" Color="Color.Primary" Size="Size.Small">Withdraw</MudRadio>
        </MudRadioGroup>

        <MudTextField @bind-Value="Amount" Label="Amount (GWh)" Variant="Variant.Text"></MudTextField>

    </MudCardContent>
    <MudCardActions>
        <MudButton Variant="Variant.Filled" DisableElevation="true" Color="Color.Primary" @onclick="SubmitRequest" Disabled="@ButtonsDisabled">Submit request</MudButton>
        &nbsp;
        <MudButton Variant="Variant.Filled" DisableElevation="true" Color="Color.Primary" @onclick="FetchCustomerGasInStore" Disabled="@ButtonsDisabled">Fetch customer status</MudButton>
        &nbsp;
        <MudButton Variant="Variant.Filled" DisableElevation="true" Color="Color.Primary" @onclick="FetchOverallGasInStore" Disabled="@ButtonsDisabled">Fetch storage status</MudButton>
    </MudCardActions>
</MudCard>
